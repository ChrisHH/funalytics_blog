{
  "hash": "e501121d09270780ccd0164ffd066b5d",
  "result": {
    "markdown": "---\ntitle: \"Proteins!\"\nauthor: Christian Jaehnert\ndate: '2023-12-02'\nformat: html\nslug: \ncategories:\n  - R\n  - ggplot\n  - tidyverse\n  - food\n  - protein\n  - calories\n  - sugar\ntags:\n  - R\n  - ggplot\n  - food\n  - protein\n  \nsummary: \"xxx\"\n---\n\n\n\n\n## Protein\n\nBesides all the business topics in my job, there is currently another hot topic which we speak about a lot recently. It is food and in particular healthy, protein rich food. We are trying high protein snacks, exchange recipes and plans for a protein nutrioin. I am more and more used to have a protein shake or a protein bar sometimes.\n\nBut what is it actually what we eat there? These bars and shakes. What are they made of?\n\nTime to shed some light on this questions. I was crawling product information from a German retailer website. These crawled data are my foundation today.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-1_2b3d9dc190ee80779ef293c221e1a1b0'}\n\n:::\n\n\n## The Data\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-2_03d61478f9c2b81eeb43d844b772c41d'}\n::: {.cell-output .cell-output-stdout}\n```\nRows: 195\nColumns: 9\n$ Brand       <chr> \"enerBiO\", \"GENUSS PLUS\", \"Bauckhof\", \"GENUSS PLUS\", \"GENU…\n$ product     <chr> \"Veganer Proteinriegel Brownie\", \"Protein Waffel aus Linse…\n$ gtin        <chr> \"4305615877693\", \"4068134005915\", \"4015637015323\", \"430561…\n$ ingredients <chr> \"Reissirup*, Agavendicksaft*, Zartbitterkuvertüre* 17 % (K…\n$ calories    <dbl> 392, 349, 435, 338, 338, 142, 142, 73, 354, 375, 375, 494,…\n$ fat         <dbl> 12.0, 1.0, 24.0, 0.9, 0.9, 9.1, 9.1, 12.0, 7.7, 5.2, 5.2, …\n$ carbs       <dbl> 46.0, 54.0, 27.0, 55.0, 55.0, 10.0, 10.0, 43.0, 49.0, 9.2,…\n$ sugar       <dbl> 36.0, 2.1, 1.2, 3.9, 3.9, 4.5, 4.5, 40.0, 39.0, 5.9, 5.9, …\n$ protein     <dbl> 22.0, 24.0, 20.0, 21.0, 21.0, 4.3, 4.3, 18.4, 20.0, 73.0, …\n```\n:::\n:::\n\n\nOK, what to we have? We have ten different variables of different types and 195 rows (products). The variables are relatively self speaking. Some notes on selected variables:\n\n-   ingredients is the list of ingredients per product; it is a very long string and need to be treated for the analysis.\n-   The calories are normalized to 100g / 100 ml. In this light also the amount of fat, carbs, sugar and protein (all in gramms) are normalized.\n\n## Plausbility Check\n\nSince the data are crawled, there is always a chance of errors in the data (the more data, the higher the propability). But nutrition sience is here to help. It is well studied that the following nutritions have the follwing calories (1 g each):\n\n-   carbs 4 calories\n\n-   protein 4 calories\n\n-   fat 9 calories\n\nWith this knowledge lets calculate the theoretical calories and check against the crawled calories in a plot. We woul expect a straight line, right?\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-3_6e427e33a86d7eec76facaf5408a4efc'}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=1260}\n:::\n:::\n\n\nThat looks quite good!\n\nNo lets do a final confirmation with a explanatory linear regression model.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-4_e658085ecf2a84fb6277931bc578406f'}\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = calories ~ carbs + protein + fat - 1, data = protein)\n\nCoefficients:\n  carbs  protein      fat  \n  3.896    4.134    8.490  \n```\n:::\n:::\n\n\nThat looks also good! We see the coefficients here for carbs, protein and fat. Lets take the coefficient for the carbs. It is saying if we increase carbs by 1 g, the calories are increasing by 3.896 calories, which is close to the expected 4 calories. I am not an expert in the domain of nutrition but I would say the values above are also rules of thumb. Thats why I would consider the result of the linear model quite close and I will now delve deeper into the data.\n\n## The ingredients\n\nNow it is time, to start to look into the ingredients of the nutritional stuff. Lets first look into the overall top 20 ingredients of the pro 147 products.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-5_518206a669cb30fcf0de661de4fe2883'}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 570 × 2\n   word                            n\n   <chr>                       <int>\n 1 \"kakaobutter\"                  91\n 2 \"\"                             78\n 3 \"feuchthaltemittelglycerin\"    61\n 4 \"salz\"                         57\n 5 \"kakaomasse\"                   55\n 6 \"sonnenblumenl\"                52\n 7 \"aroma\"                        49\n 8 \"sungsmittelmaltit\"            47\n 9 \"natrlichesaroma\"              45\n10 \"emulgatorlecithine\"           42\n# ℹ 560 more rows\n```\n:::\n:::\n\n\nOh oh, thats not good. Som words are cut in the middle. Lets revise it. Lets start to sample the ingredient list of 30 products.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-6_2be39c5db096c9fb9b40dcde3d123c7f'}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 30 × 1\n   ingredients                                                                  \n   <chr>                                                                        \n 1 Proteinmischung (SOJAPROTEIN, Erbsenprotein, Reisprotein), Aroma, Calciumcar…\n 2 WEIZENprotein (18%), WEIZENmehl, Süßungsmittel (Maltit, Xylit), Molkenprotei…\n 3 56% Proteinmischung [MILCHEIWEIß, Kollagenhydrolysat, SOJAPROTEINISOLAT], Wa…\n 4 Süßungsmittel: Maltit, Sonnenblumenöl, 20% Molkeneiweißkonzentrat (aus MILCH…\n 5 MILCHeiweiß, Schokolade mit Süßstoff (26%) (Kakaomasse, Süßstoff (Maltitole)…\n 6 Wasser, glutenfreier Hafer- Extrakt (10%), Erbsenprotein(6%), Rapsöl, gluten…\n 7 Datteln, MANDELPASTE, Erbsenprotein-Crispies (Erbsenprotein, Stärke), dunkle…\n 8 Datteln, MANDELPASTE, Erbsenprotein-Crispies (Erbsenprotein, Stärke), dunkle…\n 9 Glasurmasse mit Süßstoff und Ballaststoffen (Süßstoff: Maltit, Kakaobutter, …\n10 Reisprotein*, 18 % Kräuter* (Petersilie, Basilikum), LUPINENmehl*, Tomatengr…\n# ℹ 20 more rows\n```\n:::\n:::\n\n\nThat looks messy. It seems very common to work with percentages. Often there is also \"subingredients\" in a bracket.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}